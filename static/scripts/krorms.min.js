$(function(){var e={months:["January","February","March","April","May","June","July","August","September","October","November","December"],errors:[],isFunction:function(e){return typeof e==="function"},load:function(){$(document).on("submit",".validatable",function(t){var n=$(this);var r=window[n.attr("submit")];if(r!=undefined&&e.isFunction(r))r(n);if(e.validate(n)){var i=window[n.attr("complete")];if(i!=undefined&&e.isFunction(i))i(n);if(n.hasClass("preventDefault"))t.preventDefault()}else{t.preventDefault();var s=window[n.attr("error")];if(s!=undefined&&e.isFunction(s))s(e.errors)}});$.fn.extend({updateSelectorDays:function(){var e=this.parent(),t=this.val(),n=1,r=e.children("[type=month]").first(),i=e.children("[type=year]").first(),s=(new Date(i.val(),r.val(),0)).getDate(),o=1;this.empty();while(o<s+1){$("<option/>").val(o).html(o).appendTo(this);if(t!=null&&o>n&&o<=t)n=o;o++}this.val(n)},updateRange:function(){var t=this.attr("range");if(t!=undefined){if(t=="months"){for(var n in e.months)$("<option/>").val(parseInt(n)+1).html(e.months[n]).appendTo(this);return}if(t=="days"){var r=this.parent(),i=this,s=function(){i.updateSelectorDays()};r.children("[type=month]").first().on("change",s);r.children("[type=year]").first().on("change",s);setTimeout(s,1)}var o=t.split("-",2),u=e.parseRangeValue(o[0]),a=e.parseRangeValue(o[1]);var f=u;if(u>a){while(f>a-1){$("<option/>").val(f).html(f).appendTo(this);f--}}else{while(f<a+1){$("<option/>").val(f).html(f).appendTo(this);f++}}}},setDateSelectorValue:function(e){var t=$(this),n=e.split("-");var r=function(e,r){t.find('select[type="'+e+'"]').val(parseInt(n[r]))};r("day",2);r("month",1);r("year",0)}});$("select").each(function(){$(this).updateRange()});$(".dateSelector").each(function(){var e=$(this),t=e.attr("date");if(t!=undefined)setTimeout(function(){e.setDateSelectorValue(t)},2)})},parseRangeValue:function(e){return e=="year"?(new Date).getFullYear():parseInt(e)},validate:function(t){e.errors=[];t.find("input,textarea").each(function(){var t=$(this);e.validateField(t)});return Object.size(e.errors)==0},validateField:function(t){var n=t.attr("minlength"),r=t.attr("maxlength"),i=t.val().trim(),s=i.length,o=e.isRequired(t);if(s==0){if(o)e.error(t,"required");else return}if(n!=undefined&&r!=undefined&&(s<n||s>r)){e.error(t,"both_length")}else{if(n!=undefined&&s<n)e.error(t,"min_length");if(r!=undefined&&s>r)e.error(t,"max_length")}var u=t.attr("validate");if(u!=undefined){if(u=="email"){if(i.match(/^\S+@\S+\.[a-zA-Z]+$/)==null)e.error(t,"invalid_email")}else if(u=="number"){if(i.match(/^[\d]+$/)==null)e.error(t,"invalid_number")}else{if(i.match(new RegExp(u))==null)e.error(t,"invalid")}}},isRequired:function(e){if(!e instanceof jQuery)e=$(e);var t=e.attr("require");return t!==undefined||t=="true"},error:function(t,n){var r=t.attr("id");if(e.errors[r]==undefined)e.errors[r]=[];e.errors[r].push(n)}};e.load()});if(Object.size==undefined){Object.size=function(e){var t=0,n;for(n in e)if(e.hasOwnProperty(n))t++;return t}}