$(function(){var e={months:["January","February","March","April","May","June","July","August","September","October","November","December"],errors:[],isFunction:function(e){return typeof e==="function"},load:function(){$(document).on("submit",".validatable",function(t){var n=$(this);var r=window[n.attr("submit")];if(r!=undefined&&e.isFunction(r))r(n);if(e.validate(n)){var i=window[n.attr("complete")];if(i!=undefined&&e.isFunction(i))i(n);if(n.hasClass("preventDefault"))t.preventDefault()}else{t.preventDefault();var s=window[n.attr("error")];if(s!=undefined&&e.isFunction(s))s(e.errors)}});$("select").each(function(){e.updateRange($(this))})},updateSelectorDays:function(e){if(!e instanceof jQuery)e=$(e);var t=e.parent(),n=t.children("[type=month]").first(),r=t.children("[type=year]").first(),i=(new Date(r.val(),n.val(),0)).getDate(),s=1;e.empty();while(s<i+1){$("<option/>").val(s+1).html(s).appendTo(e);s++}},parseRangeValue:function(e){return e=="year"?(new Date).getFullYear():parseInt(e)},updateRange:function(t){if(!t instanceof jQuery)t=$(t);var n=t.attr("range");if(n!=undefined){if(n=="months"){for(var r in e.months)$("<option/>").val(parseInt(r)+1).html(e.months[r]).appendTo(t);return}if(n=="days"){var i=t.parent(),s=function(){e.updateSelectorDays(t)};i.children("[type=month]").first().on("change",s);i.children("[type=year]").first().on("change",s);setTimeout(s,1)}var o=n.split("-",2),u=e.parseRangeValue(o[0]),a=e.parseRangeValue(o[1]);var f=u;if(u>a){while(f>a-1){$("<option/>").val(f).html(f).appendTo(t);f--}}else{while(f<a+1){$("<option/>").val(f).html(f).appendTo(t);f++}}}},validate:function(t){e.errors=[];t.find("input,textarea").each(function(){var t=$(this);e.validateField(t)});return Object.size(e.errors)==0},validateField:function(t){var n=t.attr("minlength"),r=t.attr("maxlength"),i=t.val(),s=i.length,o=e.isRequired(t);if(s==0){if(o)e.error(t,"required");else return}if(n!=undefined&&r!=undefined&&(s<n||s>r)){e.error(t,"both_length")}else{if(n!=undefined&&s<n)e.error(t,"min_length");if(r!=undefined&&s>r)e.error(t,"max_length")}var u=t.attr("validate");if(u!=undefined){if(u=="email"){if(i.match(/^\S+@\S+\.[a-zA-Z]+$/)==null)e.error(t,"invalid_email")}else if(u=="number"){if(i.match(/^[\d]+$/)==null)e.error(t,"invalid_number")}else{if(i.match(new RegExp(u))==null)e.error(t,"invalid")}}},isRequired:function(e){if(!e instanceof jQuery)e=$(e);var t=e.attr("require");return t!==undefined||t=="true"},error:function(t,n){var r=t.attr("id");if(e.errors[r]==undefined)e.errors[r]=[];e.errors[r].push(n)}};e.load()});if(Object.size==undefined){Object.size=function(e){var t=0,n;for(n in e)if(e.hasOwnProperty(n))t++;return t}}